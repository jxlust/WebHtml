js 解析自定义表达式：全局数据:

```js
const data = { a: '12345', b: 1, c: 'some str' }
```

1. 比如: const exp = `valueForKey('a')=='123'`, 解析这个表达式取 key 为 a 的值,是否等于'123' 返回布尔值
2. const exp = `valueForKey('a').length<10` 取 key 为 a 值的长度
3. const exp = `jsmethod('function getNextDay(time){var day;time=new Date(time);time=+time-1000*60*60*24;time=new Date(time);var oneDay=time.getDate();if(oneDay<10){day="0"+oneDay}else{day=oneDay}return time.getFullYear()+"-"+(time.getMonth() +1)+"-"+day}getNextDay(valueForKey("abc"));')` 调用 js 方法计算值

表达式 1：

```js
"valueForKey('xxx')>0 || 1>2 || (5>1 && 1>0)
valueForKey('a')=='123'
valueForKey('a').length<10

// 返回工号
getAccid()
// 输出“123”
String(123)
// .length  取key为xxx值的长度(如果valueForKey返回的值为String可以直接调用length，否者不可调用)
valueForKey('xxx').length
// .intValue  ‘123’.intValue,把字符串123转为int值，比较大小不能用字符串比较
'123'.intValue
valueForKey('xxx').intValue
// .doubleValue ‘1.1’.doubleValue,把字符串1.1转为double值，比较大小不能用字符串比较
'1.1'.doubleValue
// jsmethod
const str =`jsmethod('function getNextDay(time){var day;time=new Date(time);time=+time-1000*60*60*24;time=new Date(time);var
oneDay=time.getDate();if(oneDay<10){day="0"+oneDay}else{day=oneDay}return time.getFullYear()+"-"+(time.getMonth()
+1)+"-"+day} return getNextDay(valueForKey("abc"));')`
const value1 = `jsmethod(\"function getFxbsdyValue(v) { var r = ''; if (v == '1') { r = 100 } else { r = 88 } return r; } return getFxbsdyValue(valueForKey('a'));\")`
// 自定义方法
const str = `methodA('a')`
```


## babel解析
```js
// import * as parser from '@babel/parser'
// // 你的表达式
// const expr1 = `'123'.intValue`
// const expr2 = `'1.1'.doubleValue`
// const expr3 = `'abc'.length`
// const ast = parser.parseExpression(expr1)
// console.log(ast)
```