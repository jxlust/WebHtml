<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        :root {
            --gradient-macha: linear-gradient(114.41deg, #0ae448 20.74%, #abff84 65.5%);
            --theme-color-lt: #dfdcff;
            --color-just-black: #0e100f;
        }

        .get-gsap-btn {
            margin-bottom: 1rem;
            position: relative;
            z-index: 1;
            display: inline-block;
        }

        .btn-content {
            cursor: pointer;
            color: #333;
            text-decoration: none;
            border: 2px solid #0000;
            border-radius: 100px;
            overflow: hidden;
            position: relative;
            transition: none;
            z-index: 1;
            width: 220px;
            height: 58px;
            line-height: 58px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(90deg, #dfdcff 0%, #9d97de 100%) padding-box, var(--gradient-macha) border-box;
            padding: 15px 24px;
            box-sizing: border-box;
            letter-spacing: -0.16px;
        }

        .get-gsap-btn__flair {
            left: 40%;
            opacity: 0;
            position: absolute;
            top: 50%;
            transform: translateY(10px);
            transform-origin: 0 0;
            z-index: 2;
        }

        .box {
            padding: 100px;
        }
    </style>
    <script src="../js/gsap-latest-beta.min.js"></script>
    <script src="../gsap-plugins/CustomEase3.min.js"></script>
</head>

<body>

    <div class="box">
        <div class="get-gsap-btn get-gsap-btn--fill">
            <div id="btn-circles" class="get-gsap-btn__flair">
                <svg fill="none" width="23" height="23" viewBox="0 0 23 23">
                    <path fill="url(#paint0_radial_2146_58993)" fill-rule="evenodd"
                        d="M7.959 10.053a4.368 4.368 0 0 1-.889-.17c-2.327-.7-3.64-3.174-2.933-5.527C4.845 2.002 7.305.662 9.632 1.36c2.327.7 3.64 3.174 2.933 5.528-.06.197-.131.387-.214.57l.46.138c.032-.198.078-.396.137-.593.707-2.353 3.167-3.694 5.494-2.995 2.328.7 3.64 3.175 2.933 5.528-.707 2.353-3.167 3.694-5.494 2.995a4.377 4.377 0 0 1-.745-.3l-.1.333c.261.029.525.082.786.16 2.328.7 3.64 3.175 2.933 5.528-.707 2.353-3.167 3.694-5.494 2.995-2.327-.7-3.64-3.175-2.933-5.528a4.51 4.51 0 0 1 .35-.845l-.54-.163c-.03.265-.085.531-.164.796-.708 2.353-3.168 3.694-5.495 2.994-2.327-.7-3.64-3.174-2.933-5.527.708-2.354 3.168-3.694 5.495-2.995.295.089.574.206.835.349l.083-.276Z"
                        clip-rule="evenodd"></path>
                    <path fill="url(#pattern-home-hero-btn-circles-0)" fill-opacity=".6" fill-rule="evenodd"
                        d="M7.959 10.053a4.368 4.368 0 0 1-.889-.17c-2.327-.7-3.64-3.174-2.933-5.527C4.845 2.002 7.305.662 9.632 1.36c2.327.7 3.64 3.174 2.933 5.528-.06.197-.131.387-.214.57l.46.138c.032-.198.078-.396.137-.593.707-2.353 3.167-3.694 5.494-2.995 2.328.7 3.64 3.175 2.933 5.528-.707 2.353-3.167 3.694-5.494 2.995a4.377 4.377 0 0 1-.745-.3l-.1.333c.261.029.525.082.786.16 2.328.7 3.64 3.175 2.933 5.528-.707 2.353-3.167 3.694-5.494 2.995-2.327-.7-3.64-3.175-2.933-5.528a4.51 4.51 0 0 1 .35-.845l-.54-.163c-.03.265-.085.531-.164.796-.708 2.353-3.168 3.694-5.495 2.994-2.327-.7-3.64-3.174-2.933-5.527.708-2.354 3.168-3.694 5.495-2.995.295.089.574.206.835.349l.083-.276Z"
                        clip-rule="evenodd"></path>
                    <defs>
                        <radialGradient id="paint0_radial_2146_58993" cx="0" cy="0" r="1"
                            gradientTransform="rotate(-31.559 22.628 3.049) scale(17.064 11.3981)"
                            gradientUnits="userSpaceOnUse">
                            <stop stop-color="#FFD9B0"></stop>
                            <stop offset=".807" stop-color="#FD9F3B"></stop>
                            <stop offset="1" stop-color="#FF8709"></stop>
                        </radialGradient>
                        <pattern id="pattern-home-hero-btn-circles-0" width="5.556" height="5.556"
                            patternContentUnits="objectBoundingBox">
                            <use xlink:href="#svg-noise" transform="scale(.01111)"></use>
                        </pattern>
                    </defs>
                </svg>
            </div>
            <div id="btn-windmill" class="get-gsap-btn__flair">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none"
                    width="62" height="63" viewBox="0 0 62 63">
                    <path fill="url(#paint0_radial_2771_42684)"
                        d="m34.246 27.525 10.197-13.201a.26.26 0 0 1 .362-.047L61.76 27.372a.26.26 0 0 1 .046.366c-7.386 9.336-20.882 11.074-30.391 3.919l16.975 13.112c.112.087.133.25.046.362L35.34 62.085a.26.26 0 0 1-.365.046c-9.41-7.444-11.1-21.093-3.746-30.616l-13.255 17.16a.259.259 0 0 1-.362.046L.658 35.626a.26.26 0 0 1-.046-.365c7.386-9.337 20.881-11.074 30.391-3.92l-16.935-13.08a.259.259 0 0 1-.047-.363L27.117.944a.26.26 0 0 1 .365-.046c8.08 6.393 10.469 17.361 6.326 26.362-.129.278.25.508.439.264l-.001.001Z">
                    </path>
                    <path fill="url(#pattern-home-hero-btn-windmill-0)" fill-opacity=".6"
                        d="m34.246 27.525 10.197-13.201a.26.26 0 0 1 .362-.047L61.76 27.372a.26.26 0 0 1 .046.366c-7.386 9.336-20.882 11.074-30.391 3.919l16.975 13.112c.112.087.133.25.046.362L35.34 62.085a.26.26 0 0 1-.365.046c-9.41-7.444-11.1-21.093-3.746-30.616l-13.255 17.16a.259.259 0 0 1-.362.046L.658 35.626a.26.26 0 0 1-.046-.365c7.386-9.337 20.881-11.074 30.391-3.92l-16.935-13.08a.259.259 0 0 1-.047-.363L27.117.944a.26.26 0 0 1 .365-.046c8.08 6.393 10.469 17.361 6.326 26.362-.129.278.25.508.439.264l-.001.001Z">
                    </path>
                    <defs>
                        <radialGradient id="paint0_radial_2771_42684" cx="0" cy="0" r="1"
                            gradientTransform="rotate(-142.317 24.316 16.274) scale(34.5669)"
                            gradientUnits="userSpaceOnUse">
                            <stop stop-color="#F0FCFF"></stop>
                            <stop offset=".672" stop-color="#9BEDFF"></stop>
                            <stop offset=".76" stop-color="#98ECFF"></stop>
                            <stop offset=".849" stop-color="#5BE1FF"></stop>
                            <stop offset=".948" stop-color="#00BAE2"></stop>
                        </radialGradient>
                        <pattern id="pattern-home-hero-btn-windmill-0" width="2.279" height="2.279"
                            patternContentUnits="objectBoundingBox">
                            <use xlink:href="#svg-noise" transform="scale(.00456)"></use>
                        </pattern>
                    </defs>
                </svg>
            </div>
            <div id="btn-square" class="get-gsap-btn__flair">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none"
                    width="19" height="19" viewBox="0 0 19 19">
                    <path fill="url(#paint0_linear_2771_24471)"
                        d="M.27 7.683a1 1 0 0 1 .372-1.364L10.995.409a1 1 0 0 1 1.364.373l5.91 10.352a1 1 0 0 1-.373 1.365l-10.353 5.91a1 1 0 0 1-1.364-.373L.27 7.683Z">
                    </path>
                    <path fill="url(#pattern-home-hero-btn-square-0)" fill-opacity=".6"
                        d="M.27 7.683a1 1 0 0 1 .372-1.364L10.995.409a1 1 0 0 1 1.364.373l5.91 10.352a1 1 0 0 1-.373 1.365l-10.353 5.91a1 1 0 0 1-1.364-.373L.27 7.683Z">
                    </path>
                    <defs>
                        <linearGradient id="paint0_linear_2771_24471" x1="24.297" x2="3.329" y1="7.113" y2="17.933"
                            gradientUnits="userSpaceOnUse">
                            <stop offset=".144" stop-color="#FFE9FE"></stop>
                            <stop offset="1" stop-color="#FF96F9"></stop>
                        </linearGradient>
                        <pattern id="pattern-home-hero-btn-square-0" width="5.08" height="5.08"
                            patternContentUnits="objectBoundingBox">
                            <use xlink:href="#svg-noise" transform="scale(.01016)"></use>
                        </pattern>
                    </defs>
                </svg>
            </div>
            <div id="btn-star" class="get-gsap-btn__flair">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none"
                    width="18" height="18" viewBox="0 0 18 18">
                    <path fill="url(#paint0_linear_2771_24384)" fill-rule="evenodd"
                        d="m6.324 7.326-4.936-.849a1.078 1.078 0 0 0-.374 2.124l4.93.887-4.091 2.89a1.078 1.078 0 0 0 1.238 1.766l4.112-2.858-.849 4.936a1.078 1.078 0 0 0 2.124.374l.887-4.93 2.89 4.09a1.078 1.078 0 0 0 1.766-1.238l-2.858-4.111 4.936.848a1.078 1.078 0 0 0 .374-2.124l-4.93-.887 4.09-2.89a1.078 1.078 0 0 0-1.238-1.766l-4.111 2.858.848-4.935a1.078 1.078 0 0 0-2.124-.374l-.886 4.93-2.89-4.091a1.078 1.078 0 0 0-1.766 1.238l2.858 4.112Z"
                        clip-rule="evenodd"></path>
                    <path fill="url(#pattern-home-hero-btn-star-0)" fill-opacity=".6" fill-rule="evenodd"
                        d="m6.324 7.326-4.936-.849a1.078 1.078 0 0 0-.374 2.124l4.93.887-4.091 2.89a1.078 1.078 0 0 0 1.238 1.766l4.112-2.858-.849 4.936a1.078 1.078 0 0 0 2.124.374l.887-4.93 2.89 4.09a1.078 1.078 0 0 0 1.766-1.238l-2.858-4.111 4.936.848a1.078 1.078 0 0 0 .374-2.124l-4.93-.887 4.09-2.89a1.078 1.078 0 0 0-1.238-1.766l-4.111 2.858.848-4.935a1.078 1.078 0 0 0-2.124-.374l-.886 4.93-2.89-4.091a1.078 1.078 0 0 0-1.766 1.238l2.858 4.112Z"
                        clip-rule="evenodd" style="mix-blend-mode: multiply;"></path>
                    <defs>
                        <linearGradient id="paint0_linear_2771_24384" x1="24.729" x2="25.351" y1="8.665" y2="20.075"
                            gradientUnits="userSpaceOnUse">
                            <stop stop-color="#0AE448"></stop>
                            <stop offset="1" stop-color="#0085D0"></stop>
                        </linearGradient>
                        <pattern id="pattern-home-hero-btn-star-0" width="11.452" height="11.452"
                            patternContentUnits="objectBoundingBox">
                            <use xlink:href="#svg-noise" transform="scale(.0229)"></use>
                        </pattern>
                    </defs>
                </svg>
            </div>

            <div class="btn-content" id="btnId">
                我是个华丽按钮
            </div>
        </div>
    </div>

</body>

<script>

    gsap.registerPlugin(CustomEase);
    const ease1 = CustomEase.create("custom", "M0,0 C0.05,0.356 0.377,0.435 0.5,0.5 0.61,0.558 0.948,0.652 1,1 ")
    const ease2 = CustomEase.create("custom", "M0,0 C0.148,0.346 0.254,0.444 0.5,0.5 0.751,0.557 0.852,0.646 1,1 ")
    const timeline = gsap.timeline({
        paused: true,
        onComplete: () => {
            console.log('timeline complete')
        }
    })

    gsap.set(".get-gsap-btn__flair", {
        opacity: 1
    })
    gsap.set(["#btn-circles", "#btn-windmill", "#btn-square", "#btn-star"], {
        scale: 0
    })

    timeline.set(["#btn-circles", "#btn-windmill", "#btn-square", "#btn-star"], {
        scale: 0,
        x: 0,
        y: 10,
        rotateZ: 0
    })

    // t.current.set(e[0], {
    //                         yPercent: -140
    //                     }),
    //                     t.current.set(e[1], {
    //                         yPercent: 0
    //                     }),
    //                     t.current.to(".get-gsap-btn__button > span:first-child", {
    //                         keyframes: [{
    //                             x: -30,
    //                             ease: "power4.out"
    //                         }, {
    //                             x: 0,
    //                             ease: "power4.in"
    //                         }],
    //                         duration: l.duration
    //                     }),
    //                     t.current.to(".get-gsap-btn__button > span:last-child", {
    //                         keyframes: [{
    //                             x: 30,
    //                             ease: "power4.out"
    //                         }, {
    //                             x: 0,
    //                             ease: "power4.in"
    //                         }],
    //                         duration: l.duration
    //                     }, "<"),
    //                     t.current.to(e[0], {
    //                         yPercent: 0,
    //                         duration: .6,
    //                         ease: "power3.in"
    //                     }, "<.3"),
    //                     t.current.to(e[1], {
    //                         yPercent: 140,
    //                         duration: .6,
    //                         ease: "power3.out"
    //                     }, "<"),

    timeline.to(["#btn-circles", "#btn-windmill", "#btn-square", "#btn-star"], {
        keyframes: [{
            scale: 0,
            zIndex: 2,
            duration: 0
        }, {
            y: () => gsap.utils.random(-80, -120),
            scale: 1
        }, {
            zIndex: -1,
            duration: .05
        }, {
            y: 0,
            scale: .3
        }],
        duration: 1,
        ease: ease1,
        stagger: .15
    }, "<");
    timeline.to(["#btn-circles", "#btn-windmill", "#btn-square", "#btn-star"], {
        x: () => gsap.utils.random(-50, 100),
        // rotateZ: () => -360,
        ease: ease2,
        duration: 1,
        stagger: .15
    }, "<")


    document.getElementById('btnId').addEventListener('click', () => {
        // timeline.play();
        // timeline.restart();
        // timeline.invalidate().restart();
        timeline.invalidate().play(0);
    })
</script>

</html>