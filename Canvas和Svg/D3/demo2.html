<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>


</head>

<body>
    <div id="container"></div>

    <div id="container2"></div>


</body>
<script type="module">
    import * as d3 from "https://cdn.jsdelivr.net/npm/d3@7/+esm";

    const path = d3.path();
    // const path = d3.pathRound(3);
    const points = [[10, 20], [20, 30], [30, 40], [40, 20], [50, 10], [60, 30], [70, 70], [80, 50],
    [90, 60], [100, 40]];

    path.moveTo(0, 0);
    for (let [x, y] of points) {
        path.lineTo(x, y);
    }
    console.log('path:', path.toString());

    const circlePath = d3.path();
    for (let [x, y] of points) {
        circlePath.arc(x, y, 5, 0, Math.PI * 2);
        circlePath.closePath();
    }

    // path.closePath();

    const svg = d3.create("svg")
        .attr("width", 105)
        .attr("height", 105);

    svg.append("path")
        .attr("fill", "none")
        .attr("stroke", "red")
        .attr("stroke-width", 2)
        .attr("d", path)

    svg.append("path")
        .attr("fill", "blue")
        .attr("stroke", "blue")
        .attr("stroke-width", 0)
        .attr("d", circlePath)


    d3.select("#container").node().append(svg.node());



    const svg2 = d3.create("svg")
        .attr("width", 105)
        .attr("height", 105);

    const path2 = d3.pathRound(5);
    // 设置曲线平滑度

    path2.moveTo(0, 0);
    for (let [x, y] of points) {
        path2.lineTo(x, y);
    }
    console.log('path2:', path2.toString());

    svg2.append("path")
        .attr("fill", "none")
        .attr("stroke", "red")
        .attr("stroke-width", 2)
        .attr("d", path2)

    d3.select("#container2").node().append(svg2.node());
</script>



</html>